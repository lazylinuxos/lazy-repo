# Template file for 'fresh-editor'
pkgname=fresh-editor
version=0.2.9
revision=1
build_style=cargo
hostmakedepends="pkg-config clang llvm"
makedepends="oniguruma-devel"
depends="libgcc"
short_desc="Lightweight terminal-based text editor with LSP support and TypeScript plugins"
maintainer="nerdyslacker <karyan40024@gmail.com>"
license="GPL-2.0-only"
homepage="https://sinelaw.github.io/fresh/"
#distfiles="https://github.com/sinelaw/fresh/releases/download/v${version}/fresh-editor-${version}-source.tar.gz"
distfiles="https://github.com/sinelaw/fresh/archive/refs/tags/v${version}.tar.gz"
checksum=c38bc42152f88e96e557ed26d3d5ba43947e4170760cb85b6b9c72b640e5bf36

export CC=clang

do_install() {
	vbin target/${RUST_TARGET}/release/fresh

	vmkdir usr/share/${pkgname}
	vcopy crates/fresh-editor/plugins usr/share/${pkgname}/
	vcopy crates/fresh-editor/keymaps usr/share/${pkgname}/

	vmkdir usr/share/doc/${pkgname}
	vinstall README.md 644 usr/share/doc/${pkgname}
}