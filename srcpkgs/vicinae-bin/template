# Template file for 'vicinae-bin'
pkgname=vicinae-bin
version=0.19.7
revision=1
archs="x86_64"
depends="
 nodejs
 qt6-base
 qt6-svg
 layer-shell-qt
 libqalculate
 qtkeychain-qt6
 libxml2
 minizip
"
short_desc="Focused launcher for your desktop â€” native, fast, extensible"
maintainer="nerdyslacker <karyan40024@gmail.com>"
license="GPL-3.0-only"
homepage="https://github.com/vicinaehq/vicinae"
distfiles="https://github.com/vicinaehq/vicinae/releases/download/v${version}/vicinae-linux-x86_64-v${version}.tar.gz"
checksum=118ff1bc745d2baede739d1fdddc7199d3893adb885b7fcc62de980c8bb6d90a
conflicts="vicinae"
replaces="vicinae"
noverifyrdeps=yes
disable_shlib_provides=yes

do_install() {
	vbin bin/vicinae

	vmkdir usr/share
	vcopy share/* usr/share

	# Service doesn't work at this moment, add daemon to autostart
	vmkdir etc/xdg/autostart
	vinstall ${FILESDIR}/vicinae-server.desktop 644 etc/xdg/autostart
}
